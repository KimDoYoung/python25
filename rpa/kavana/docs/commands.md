# kavana-script ëª…ë ¹ì–´ë“¤

Kavana Scriptì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´ì™€ ê·¸ ì‚¬ìš©ë²•ì„ ì •ë¦¬í•œ ë¬¸ì„œì…ë‹ˆë‹¤.

## **ê¸°ë³¸ ëª…ë ¹ì–´**

### ğŸ”¶SET

- ë³€ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
- **ë¬¸ë²•**

> SET = <í‘œí˜„ì‹>

- **ì‚¬ìš© ì˜ˆ**

```kvs
SET a = "123"
SET a = 1 + 2 
```

### ğŸ”¶PRINT

- ë¬¸ìì—´ì„ ì¸ì‡„í•©ë‹ˆë‹¤.
- ë¬¸ìì—´ì€ pythonê³¼ ìœ ì‚¬í•˜ê²Œ ì²¨ì r(raw), f(format)ì„ ì§€ì›í•©ë‹ˆë‹¤.
- ì—¬ëŸ¬ ì¸ìë¥¼ ì½¤ë§ˆë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- **ë¬¸ë²•**

> PRINT <ë¬¸ìì—´>, <ë¬¸ìì—´>, ...

- **ì‚¬ìš©ì˜ˆ**

```kvs
SET name = "Hong"
PRINT name 
PRINT "abc", f"{name}"
```

### ğŸ”¶LOG

- ë¡œê·¸íŒŒì¼ì€ ì¼ìë³„ë¡œ ìƒì„±ë˜ëŠ” ê²ƒìœ¼ë¡œ í™•ì •í–ˆìŠµë‹ˆë‹¤.
- LOG_DEBUG, LOG_INFO, LOG_WARN, LOG_ERROR ëª…ë ¹ì–´ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

> LOG_DEBUG <ë¬¸ìì—´> ...

- LOG_CONFIG ëª…ë ¹ì–´ë¡œ ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  
> LOG_CONFIG dir=<ë¬¸ìì—´>, prefix=<ë¬¸ìì—´>, level=ë¬¸ìì—´

- dirì˜ ë””í´íŠ¸ëŠ” ./logs ì…ë‹ˆë‹¤. ë¡œê·¸íŒŒì¼ì´ ì €ì¥ë  í´ë”ì…ë‹ˆë‹¤.
- prefixëŠ” ë¡œê·¸íŒŒì¼ì˜ ì‹œì‘ë¬¸ìì—´ì…ë‹ˆë‹¤. ì¦‰ my_app ì¼ ê²½ìš° íŒŒì¼ëª…ì€ my_app-yyyy-mm-dd.log ê°€ ë©ë‹ˆë‹¤.
- prefixëŠ” ë””í´íŠ¸ê°’ì´ 'kavana'ì…ë‹ˆë‹¤.
- ë¡œê·¸íŒŒì¼ì´ ì¡´ì¬í•˜ë©´ ê·¸ íŒŒì¼ì— ì¶”ê°€ë©ë‹ˆë‹¤.
- level ì€ ë¡œê·¸ë¥¼ ì¸ì‡„í•  ë•Œì˜ levelì…ë‹ˆë‹¤. (DEBUG < INFO < WARN < ERROR)
- levelì´ INFOì´ë©´ LOG_DEBUGëŠ” ì¸ì‡„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```kvs
MAIN
    LOG_INFO "--------------------------------------------------"
    LOG_INFO "í”„ë¡œê·¸ë¨ ì‹œì‘"
    LOG_INFO "--------------------------------------------------"
    SET var1 = 100
    SET var2 = 50
    LOG_CONFIG dir="./logs/my_app", prefix="my_app", level="DEBUG"
    LOG_INFO f"ì‹œìŠ¤í…œ ì •ìƒ ì‹¤í–‰ ì¤‘. var1 = {var1}"
    LOG_WARN f"ê²½ê³  ë°œìƒ! var1 + var2 = { var1 + var2 }"
    LOG_ERROR f"ì—ëŸ¬ ë°œìƒ! var1ì´ 50ë³´ë‹¤ í°ê°€? {var1 > 50}"
    LOG_DEBUG f"ë””ë²„ê¹…: í˜„ì¬ ê°’ì€ var1={var1}, var2={var2}"
    LOG_INFO "--------------------------------------------------"
    LOG_INFO "í”„ë¡œê·¸ë¨ ì¢…ë£Œ"
    LOG_INFO "--------------------------------------------------"
END_MAIN
```

- ìœ„ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ë©´ .kvsê°€ ì¡´ì¬í•˜ëŠ” í´ë” í•˜ìœ„ì—  logs/kavana-yyyy-mm-dd.logì— LOG_INFO 3ë¼ì¸ì´ ì¸ì‡„ë©ë‹ˆë‹¤.
- ê·¸ í›„ LOG_CONFIGê°€ ì‹¤í–‰ë˜ì–´ logíŒŒì¼ì˜ ìœ„ì¹˜ê°€ logs/my_app/my_app-yyyy-mm-dd.logë¡œ ë³€ê²½ë©ë‹ˆë‹¤.
- ê·¸ í›„ì˜ ë¡œê·¸ëª…ë ¹ì–´ëŠ” ë³€ê²½ëœ íŒŒì¼ì— ì¸ì‡„ë©ë‹ˆë‹¤.
  
### ğŸ”¶INCLUDE

- ì™¸ë¶€íŒŒì¼ kvsë¥¼ ì½ì–´ ë“¤ì—¬ì„œ ëª…ë ¹ì–´ë¥¼ í™•ì¥í•œë‹¤.
- ì™¸ë¶€íŒŒì¼ kvsì—ëŠ” ìƒìˆ˜ì™€ ì‚¬ìš©ìí•¨ìˆ˜ë§Œì´ ì •ì˜ë˜ì–´ì•¼ í•œë‹¤.
- **ë¬¸ë²•**

> INCLUDE <ë¬¸ìì—´:íŒŒì¼íŒ¨ìŠ¤>

- **ì‚¬ìš©ì˜ˆ**

```kvs
 INCLUDE "./lib/global.kvs"
 INCLUDE "./common.kvs"
```

### ğŸ”¶LOAD_ENV

- dot-envíŒŒì¼ì„ ì½ì–´ë“¤ì—¬ì„œ ìƒìˆ˜ë¡œ ì²˜ë¦¬í•œë‹¤.
- ê° keyëŠ” $key ë³€ìˆ˜ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.
  
- **ë¬¸ë²•**

> LOAD <ë¬¸ìì—´:ENVíŒŒì¼íŒ¨ìŠ¤>

- **ì‚¬ìš©ì˜ˆ**

```kvs
LOAD_ENV ".env.test"
MAIN
    PRINT "{$MY_KEY}"
END_MAIN
```

### ğŸ”¶RAISE

- Exceptionì„ ë°œìƒì‹œí‚µë‹ˆë‹¤.
- **ë¬¸ë²•**

> RAISE <ë¬¸ìì—´:ì—ëŸ¬ë©”ì„¸ì§€>, <ì •ìˆ˜:Exitì½”ë“œ>

> ë¬µì‹œì ìœ¼ë¡œ $EXCEPTION_MESSAGE, $EXIT_CODE ë³€ìˆ˜ê°€ ì„¤ì •ë©ë‹ˆë‹¤.

- **ì‚¬ìš©ì˜ˆ**

```kvs  
RAISE // ì¸ìì—†ì´ ì‚¬ìš©, $EXCEPTION_MESSAGEì— `ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤`ì €ì¥, $EXIT_CODEì— 0 ì €ì¥
RAISE "ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤" // ë¬¸ìì—´ì€ $EXCEPTION_MESSAGEì— ì €ì¥ì €ì¥ë©ë‹ˆë‹¤.
RAISE "ì—ëŸ¬ë°œìƒ", 1       // 1 ì€ $EXIT_CODEì— ì €ì¥ë©ë‹ˆë‹¤.
ON_EXCEPTION
    PRINT $EXCEPTION_MESSAGE, $EXIT_CODE
END_EXCEPTION

```

## **RPA ëª…ë ¹ì–´**

### ğŸ”·APP_OPEN

- **ì„¤ëª…**

> `APP_OPEN` ëª…ë ¹ì–´ëŠ” ë¯¸ë¦¬ ì •ì˜ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°ì²´ë¥¼ ì‹¤í–‰í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.  
> ì‹¤í–‰ ì‹œ ì°½ì„ ìµœëŒ€í™”í• ì§€, í¬ì»¤ìŠ¤ë¥¼ ì¤„ì§€, ë˜ëŠ” íŠ¹ì • í”„ë¡œì„¸ìŠ¤ ì´ë¦„ì„ ì‚¬ìš©í• ì§€ ë“±ì˜ ì˜µì…˜ì„ í•¨ê»˜ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> ì´ ëª…ë ¹ì–´ëŠ” ìµœì†Œí•œ í•˜ë‚˜ì˜ ì¸ì(ì• í”Œë¦¬ì¼€ì´ì…˜ ë³€ìˆ˜)ë¥¼ í•„ìš”ë¡œ í•˜ë©°, ì„ íƒì ìœ¼ë¡œ ì—¬ëŸ¬ ì˜µì…˜ì„ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

- **ë¬¸ë²•**

> `APP_OPEN` `app_variable` [`maximize=boolean`, `focus=boolean`, `process_name=string`]

- `app_variable`: ì‹¤í–‰í•  ì• í”Œë¦¬ì¼€ì´ì…˜ ê°ì²´ ë³€ìˆ˜ëª… (í•„ìˆ˜)
- `maximize`: ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œ ì°½ì„ ìµœëŒ€í™”í• ì§€ ì—¬ë¶€ (ê¸°ë³¸ê°’: false)
- `focus`: ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ í›„ í¬ì»¤ìŠ¤ë¥¼ ì¤„ì§€ ì—¬ë¶€ (ê¸°ë³¸ê°’: true)
- `process_name`: ì‹¤í–‰í•  í”„ë¡œì„¸ìŠ¤ ì´ë¦„ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•  ê²½ìš° ì‚¬ìš© (ê¸°ë³¸ê°’: None)

---

- **ì˜µì…˜ ì„¤ëª…**

| ì˜µì…˜ëª…         | íƒ€ì…     | ì„¤ëª…                                           | ê¸°ë³¸ê°’   |
|----------------|----------|------------------------------------------------|----------|
| `maximize`     | BOOLEAN  | ì°½ì„ ìµœëŒ€í™”í• ì§€ ì—¬ë¶€                          | `false`  |
| `focus`        | BOOLEAN  | ì‹¤í–‰ í›„ í¬ì»¤ìŠ¤ë¥¼ ì¤„ì§€ ì—¬ë¶€                    | `true`   |
| `process_name` | STRING   | ì‹¤í–‰í•  í”„ë¡œì„¸ìŠ¤ì˜ ì´ë¦„ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •      | `None`   |

> âš ï¸ ì˜µì…˜ì€ `key=value` í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë©°, ì—¬ëŸ¬ ì˜µì…˜ì€ `,`(ì‰¼í‘œ)ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤.

---

- **ì‚¬ìš© ì˜ˆ**

```kvs
APP_OPEN myApp
APP_OPEN myApp maximize=True, focus=False
APP_OPEN myApp process_name="notepad.exe"
```

### ğŸ”·APP CLOSE

- **ì„¤ëª…**

> `APP_CLOSE` ëª…ë ¹ì–´ëŠ” ì‹¤í–‰ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°ì²´ë¥¼ ì¢…ë£Œí•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.  
> ì§€ì •ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ ë³€ìˆ˜ëŠ” ë°˜ë“œì‹œ `Application` íƒ€ì…ì´ì–´ì•¼ í•˜ë©°, í•´ë‹¹ ë³€ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ ì •ì˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.  
> ì´ ëª…ë ¹ì–´ëŠ” ì¶”ê°€ì ì¸ ì˜µì…˜ ì—†ì´ ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

---

- **ë¬¸ë²•**

> `APP_CLOSE <app_variable>`

- `app_variable`: ì¢…ë£Œí•  ì• í”Œë¦¬ì¼€ì´ì…˜ ê°ì²´ ë³€ìˆ˜ëª… (í•„ìˆ˜)

---

- **ì˜µì…˜ ì„¤ëª…**

> í•´ë‹¹ ëª…ë ¹ì–´ëŠ” ì¶”ê°€ ì˜µì…˜ì„ ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

- **ì‚¬ìš© ì˜ˆ**

```kvs
APP_CLOSE myApp
```

### ğŸ”·CAPTURE SCREEN

- **ì„¤ëª…**

> `CAPTURE_SCREEN` ëª…ë ¹ì–´ëŠ” ì „ì²´ í™”ë©´ ë˜ëŠ” ì§€ì •ëœ ì˜ì—­ì˜ ìŠ¤í¬ë¦°ìƒ·ì„ ìº¡ì³í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.  
> ìº¡ì³í•œ ì´ë¯¸ì§€ëŠ” ë³€ìˆ˜ë¡œ ì €ì¥í•˜ê±°ë‚˜ íŒŒì¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> í•„ìˆ˜ì ìœ¼ë¡œ `var_to` ë˜ëŠ” `save_to` ì˜µì…˜ ì¤‘ í•˜ë‚˜ ì´ìƒì„ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.

---

- **ë¬¸ë²•**

> `CAPTURE_SCREEN full, var_to=<string>, save_to=<string>`  
> `CAPTURE_SCREEN region|rectangle, var_to=<string>, save_to=<string>`

- `full`: ì „ì²´ í™”ë©´ì„ ìº¡ì³í•©ë‹ˆë‹¤.  
- `region`: ì‚¬ì „ì— ì •ì˜ëœ ì˜ì—­ ë³€ìˆ˜ë¥¼ ìº¡ì³í•©ë‹ˆë‹¤.  
- `rectangle`: ì¢Œí‘œë¡œ êµ¬ì„±ëœ ì‚¬ê°í˜• ì˜ì—­ì„ ìº¡ì³í•©ë‹ˆë‹¤.  
- `var_to`: ìº¡ì³ëœ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•  ë³€ìˆ˜ëª… (ì„ íƒ, `save_to`ì™€ ë‘˜ ì¤‘ í•˜ë‚˜ëŠ” í•„ìˆ˜)  
- `save_to`: ìº¡ì³ëœ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•  ê²½ë¡œ (ì„ íƒ, `var_to`ì™€ ë‘˜ ì¤‘ í•˜ë‚˜ëŠ” í•„ìˆ˜)

---

- **ì˜µì…˜ ì„¤ëª…**

| ì˜µì…˜ëª…      | íƒ€ì…    | ì„¤ëª…                                       | í•„ìˆ˜ ì—¬ë¶€ |
|-------------|---------|--------------------------------------------|------------|
| `var_to`    | STRING  | ìº¡ì³ ì´ë¯¸ì§€ë¥¼ ë³€ìˆ˜ì— ì €ì¥                 | âŒ (save_toê°€ ì—†ì„ ê²½ìš° í•„ìˆ˜) |
| `save_to`   | STRING  | ìº¡ì³ ì´ë¯¸ì§€ë¥¼ íŒŒì¼ë¡œ ì €ì¥                 | âŒ (var_toê°€ ì—†ì„ ê²½ìš° í•„ìˆ˜) |

> âš ï¸ `var_to`, `save_to` ì¤‘ ìµœì†Œ í•˜ë‚˜ëŠ” ë°˜ë“œì‹œ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.

---

- **ì‚¬ìš© ì˜ˆ**

```kvs
CAPTURE_SCREEN full, save_to="capture1.png"
CAPTURE_SCREEN full, var_to="img1"
CAPTURE_SCREEN full, var_to="img2", save_to="backup2.jpg"
SET r1 = REGION(x=100, y=100, width=300, height=200)
CAPTURE_SCREEN r1, save_to="region.png"

```

### ğŸ”·CLICK

- **ì„¤ëª…**

> `CLICK` ëª…ë ¹ì–´ëŠ” í™”ë©´ì˜ íŠ¹ì • ìœ„ì¹˜ë¥¼ í´ë¦­í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.  
> ì •ì ì¸ ì¢Œí‘œ, ì´ë¯¸ì§€ ì¸ì‹, ê°ì²´(Point, Region, Rectangle) ë˜ëŠ” ëª…ì‹œì  í‚¤ì›Œë“œ ì¸ìë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ í´ë¦­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> ì˜µì…˜ìœ¼ë¡œ í´ë¦­ íšŸìˆ˜, í´ë¦­ íƒ€ì…(ì‹±ê¸€/ë”ë¸”), í´ë¦­ ì§€ì† ì‹œê°„ ë“±ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

- **ë¬¸ë²•**

> `CLICK <x: int>, <y: int> [count=<int>] [duration=<float>] [type=<string>]`  
> `CLICK x=<int>, y=<int>, [count=<int>] [duration=<float>] [type=<string>]`  
> `CLICK image_path=<string>, confidence=<float>, region=<region>, grayscale=<boolean>, type=<string>`  
> `CLICK <Point|Region|Rectangle>, point_name=<string>, [count=<int>] [duration=<float>] [type=<string>]`

---

- **ì˜µì…˜ ì„¤ëª…**

| ì˜µì…˜ëª…        | íƒ€ì…     | ì„¤ëª…                                                   | ê¸°ë³¸ê°’     |
|---------------|----------|--------------------------------------------------------|------------|
| `x`, `y`      | INTEGER  | í´ë¦­í•  ì ˆëŒ€ ì¢Œí‘œ                                       | í•„ìˆ˜ (x/y ë°©ì‹) |
| `count`       | INTEGER  | í´ë¦­ íšŸìˆ˜                                              | `1`        |
| `duration`    | FLOAT    | í´ë¦­ ìœ ì§€ ì‹œê°„ (ì´ˆ)                                    | `0.2`      |
| `type`        | STRING   | `"single"` ë˜ëŠ” `"double"` í´ë¦­                         | `"single"` |
| `image_path`  | STRING   | í´ë¦­í•  ì´ë¯¸ì§€ë¥¼ íŒŒì¼ ê²½ë¡œë¡œ ì§€ì •                        | í•„ìˆ˜ (ì´ë¯¸ì§€ ë°©ì‹) |
| `confidence`  | FLOAT    | ì´ë¯¸ì§€ ì¸ì‹ ì‹ ë¢°ë„ (0.0 ~ 1.0)                          | `0.8`      |
| `region`      | REGION   | ì´ë¯¸ì§€ ê²€ìƒ‰ì„ ì œí•œí•  ì˜ì—­ (ì„±ëŠ¥ í–¥ìƒ)                   | ì—†ìŒ       |
| `grayscale`   | BOOLEAN  | ì´ë¯¸ì§€ ë¹„êµ ì‹œ í‘ë°± ë¹„êµ ì—¬ë¶€                           | `false`    |
| `point_name`  | STRING   | ê°ì²´ ê¸°ë°˜ í´ë¦­ ì‹œ ì°¸ì¡° í¬ì¸íŠ¸ ì´ë¦„ (`"center"`, `"left"` ë“±) | `"center"` |

---

- **ì‚¬ìš© ì˜ˆ**

```kvs
CLICK 100, 200  // í™”ë©´ì˜ (100, 200) ì¢Œí‘œë¥¼ í•œ ë²ˆ í´ë¦­í•©ë‹ˆë‹¤.

CLICK 300, 400 count=2 duration=0.1 type="double"  // (300, 400)ì„ ë”ë¸” í´ë¦­í•˜ë©°, í´ë¦­ ê°„ê²©ì€ 0.1ì´ˆì…ë‹ˆë‹¤.

CLICK x=150, y=250  // í‚¤ì›Œë“œ ë°©ì‹ìœ¼ë¡œ ì¢Œí‘œë¥¼ ì§€ì •í•˜ì—¬ í´ë¦­í•©ë‹ˆë‹¤.

CLICK image_path="button.png"  // button.png ì´ë¯¸ì§€ê°€ í™”ë©´ì—ì„œ íƒì§€ë˜ë©´ í•´ë‹¹ ìœ„ì¹˜ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

CLICK image_path="icon.png", confidence=0.9, grayscale=true  // í‘ë°± ë¹„êµì™€ ì‹ ë¢°ë„ 0.9ë¡œ icon.png í´ë¦­

SET p1 = POINT(x=500, y=600)
CLICK p1  // p1 ì¢Œí‘œ ê°ì²´(Point)ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

SET r1 = REGION(x=100, y=100, width=300, height=200)
CLICK r1 point_name="top_left"  // r1 ì˜ì—­ì˜ ì¢Œì¸¡ ìƒë‹¨ ì§€ì ì„ í´ë¦­í•©ë‹ˆë‹¤.

SET rect1 = RECTANGLE(x=50, y=50, width=100, height=100)
CLICK rect1 point_name="center", count=2  // rect1ì˜ ì¤‘ì‹¬ì„ ë”ë¸” í´ë¦­í•©ë‹ˆë‹¤.
```

### ğŸ”·CLOSE CHILD WINDOWS

- **ì„¤ëª…**

> `CLOSE_CHILD_WINDOWS` ëª…ë ¹ì–´ëŠ” ì§€ì •ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìì‹ ìœˆë„ìš°(íŒì—… ì°½ ë“±)ë¥¼ ëª¨ë‘ ë‹«ìŠµë‹ˆë‹¤.  
> ì˜ˆë¥¼ ë“¤ì–´, ë¬¸ì„œ í¸ì§‘ê¸°ì—ì„œ â€œì°¾ê¸°â€, â€œì„¤ì •â€ê³¼ ê°™ì€ ì„œë¸Œ ìœˆë„ìš°ë¥¼ ë‹«ì„ ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.  
> ë©”ì¸ ìœˆë„ìš°ëŠ” ë‹«ì§€ ì•Šìœ¼ë©°, ìì‹ ìœˆë„ìš°ë§Œ ëŒ€ìƒìœ¼ë¡œ í•©ë‹ˆë‹¤.

---

- **ë¬¸ë²•**

> `CLOSE_CHILD_WINDOWS <app_variable>`

- `app_variable`: ìì‹ ì°½ì„ ë‹«ì„ ëŒ€ìƒ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°ì²´ ë³€ìˆ˜ (í•„ìˆ˜)

---

- **ì˜µì…˜ ì„¤ëª…**

> ì´ ëª…ë ¹ì–´ëŠ” ì˜µì…˜ ì—†ì´ ë™ì‘í•©ë‹ˆë‹¤.  
> ë‹¨, ì§€ì •ëœ ë³€ìˆ˜ëŠ” ë°˜ë“œì‹œ `Application` íƒ€ì…ì´ì–´ì•¼ í•˜ë©°, ì •ì˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

---

- **ì‚¬ìš© ì˜ˆ**

```kvs
CLOSE_CHILD_WINDOWS myApp  // myApp ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìì‹ ìœˆë„ìš°ë¥¼ ëª¨ë‘ ë‹«ìŠµë‹ˆë‹¤.

APP_OPEN myEditor
WAIT 2
CLOSE_CHILD_WINDOWS myEditor  // ì—ë””í„° ì‹¤í–‰ í›„ 2ì´ˆ ëŒ€ê¸° í›„ ìì‹ ì°½ ë‹«ê¸°

APP_OPEN winApp process_name="wordpad.exe"
WAIT 3
CLOSE_CHILD_WINDOWS winApp  // WordPadì˜ ìì‹ ì°½ (ì˜ˆ: â€œì¸ì‡„â€, â€œì„œì‹â€) ë‹«ê¸°
```

### ğŸ”·GET_TEXT

- **ì„¤ëª…**

> `GET_TEXT` ëª…ë ¹ì–´ëŠ” í˜„ì¬ í¬ì»¤ìŠ¤ëœ UI ìš”ì†Œ(í…ìŠ¤íŠ¸ í•„ë“œ ë“±)ì˜ ë‚´ìš©ì„ ë³µì‚¬í•˜ì—¬ ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.  
> ë‚´ë¶€ì ìœ¼ë¡œ `Ctrl+A`, `Ctrl+C` í‚¤ë¥¼ ìë™ìœ¼ë¡œ ì…ë ¥í•œ í›„ í´ë¦½ë³´ë“œ ë‚´ìš©ì„ ì½ì–´ ë³€ìˆ˜ì— í• ë‹¹í•©ë‹ˆë‹¤.

---

- **ë¬¸ë²•**

> `GET_TEXT var_to=<ë³€ìˆ˜ëª…>`

- `var_to`: ë³µì‚¬ëœ í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•  ë³€ìˆ˜ ì´ë¦„ (í•„ìˆ˜)

---

- **ì˜µì…˜ ì„¤ëª…**

| ì˜µì…˜ëª…     | íƒ€ì…     | ì„¤ëª…                               | í•„ìˆ˜ ì—¬ë¶€ |
|------------|----------|------------------------------------|------------|
| `var_to`   | STRING   | ë³µì‚¬í•œ í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•  ë³€ìˆ˜ëª…       | âœ… í•„ìˆ˜     |

> âš ï¸ í…ìŠ¤íŠ¸ë¥¼ ì½ì„ ìˆ˜ ìˆëŠ” ìƒíƒœ(í¬ì»¤ìŠ¤ëœ í…ìŠ¤íŠ¸ í•„ë“œ ë“±)ì—ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.  
> í´ë¦½ë³´ë“œì— ë‹¤ë¥¸ ë‚´ìš©ì´ ìˆì„ ê²½ìš°, ê·¸ ë‚´ìš©ì´ ì €ì¥ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

- **ì‚¬ìš© ì˜ˆ**

```kvs
GET_TEXT var_to=text1  // í˜„ì¬ í™”ë©´ì˜ í…ìŠ¤íŠ¸ë¥¼ ë³µì‚¬í•˜ì—¬ text1 ë³€ìˆ˜ì— ì €ì¥

CLICK 300, 400
WAIT 0.5
GET_TEXT var_to=resultText  // íŠ¹ì • ìœ„ì¹˜ í´ë¦­ í›„ í…ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°

APP_OPEN myApp
WAIT 2
CLICK image_path="output_field.png"
WAIT 0.2
GET_TEXT var_to=fieldValue  // ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¶œë ¥ í•„ë“œë¥¼ í´ë¦­ í›„ í…ìŠ¤íŠ¸ ì¶”ì¶œ
```

### ğŸ”·PUT TEXT

- **ì„¤ëª…**

> `PUT_TEXT` ëª…ë ¹ì–´ëŠ” ë¬¸ìì—´ì„ í˜„ì¬ ì»¤ì„œ ìœ„ì¹˜ì— ì…ë ¥(íƒ€ì´í•‘)í•©ë‹ˆë‹¤.  
> í‚¤ë³´ë“œ ì…ë ¥ê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ë©°, ë‹¨ì¼ ë¬¸ìì—´ë§Œ ì¸ìë¡œ ë°›ìŠµë‹ˆë‹¤.  
> ì—¬ëŸ¬ ë²ˆ ì…ë ¥í•˜ê±°ë‚˜ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´ `SET` ëª…ë ¹ì–´ì™€ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

- **ë¬¸ë²•**

> `PUT_TEXT <string>`

- `<string>`: ì…ë ¥í•  ë¬¸ìì—´ (í•„ìˆ˜)

---

- **ì˜µì…˜ ì„¤ëª…**

> ë³„ë„ì˜ í‚¤ì›Œë“œ ì˜µì…˜ ì—†ì´ ë¬¸ìì—´ í‘œí˜„ì‹ë§Œ ë°›ìŠµë‹ˆë‹¤.  
> ë³µì¡í•œ í‘œí˜„ì‹ì„ ì‚¬ìš©í•  ê²½ìš°ì—ëŠ” `SET` ëª…ë ¹ì–´ë¡œ ë¨¼ì € ë³€ìˆ˜ì— ì €ì¥í•œ í›„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

- **ì‚¬ìš© ì˜ˆ**

```kvs
PUT_TEXT "Hello, world!"  // ì»¤ì„œ ìœ„ì¹˜ì— "Hello, world!" ì…ë ¥

PUT_TEXT "ì‚¬ìš©ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"  // í•œê¸€ ë¬¸ìì—´ë„ ì •ìƒ ì…ë ¥ë©ë‹ˆë‹¤.

SET name = "í™ê¸¸ë™"
PUT_TEXT name  // ë³€ìˆ˜ì— ì €ì¥ëœ ë¬¸ìì—´ì„ ì…ë ¥í•©ë‹ˆë‹¤.

SET content = "Line1\\nLine2\\nLine3"
PUT_TEXT content  // ì¤„ë°”ê¿ˆ ë¬¸ìë¥¼ í¬í•¨í•œ í…ìŠ¤íŠ¸ ì…ë ¥

WAIT 1
PUT_TEXT "ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™ ì¤‘..."  // 1ì´ˆ ëŒ€ê¸° í›„ í…ìŠ¤íŠ¸ ì…ë ¥
```

### ğŸ”·KEY_IN

- **ì„¤ëª…**

> `KEY_IN` ëª…ë ¹ì–´ëŠ” í‚¤ë³´ë“œ ì…ë ¥ì„ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤.  
> ë¬¸ìì—´ í•˜ë‚˜ ë˜ëŠ” ë¬¸ìì—´ ë¦¬ìŠ¤íŠ¸(ë°°ì—´)ë¥¼ ì…ë ¥ë°›ì•„ ìˆœì„œëŒ€ë¡œ íƒ€ì´í•‘í•˜ê±°ë‚˜ ë‹¨ì¶•í‚¤ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> ì…ë ¥ ì†ë„ë„ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

- **ë¬¸ë²•**

> `KEY_IN <string or array>, speed=<float>`

- `string`: ë‹¨ì¼ ë¬¸ìì—´ì„ ì…ë ¥í•©ë‹ˆë‹¤.  
- `array`: ì—¬ëŸ¬ ë¬¸ìì—´(ì˜ˆ: í‚¤ ì…ë ¥ ì¡°í•©)ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ì…ë ¥í•©ë‹ˆë‹¤.  
- `speed`: ê° í‚¤ ì…ë ¥ ì‚¬ì´ì˜ ëŒ€ê¸° ì‹œê°„ (ì´ˆ ë‹¨ìœ„, ê¸°ë³¸ê°’: 0.5ì´ˆ)

---

- **ì˜µì…˜ ì„¤ëª…**

| ì˜µì…˜ëª…     | íƒ€ì…   | ì„¤ëª…                                      | ê¸°ë³¸ê°’   |
|------------|--------|-------------------------------------------|----------|
| `speed`    | FLOAT  | í‚¤ ì…ë ¥ ê°„ ë”œë ˆì´ ì‹œê°„ (ì´ˆ ë‹¨ìœ„)         | `0.5`    |

> âš ï¸ ë‹¨ì¼ í‚¤ ì…ë ¥ì€ ë¬¸ìì—´ë¡œ, ì—¬ëŸ¬ í‚¤ ì…ë ¥ì€ ë°°ì—´ í˜•íƒœë¡œ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.

---

- **ì‚¬ìš© ì˜ˆ**

```kvs
KEY_IN "hello world"  // "hello world"ë¼ëŠ” ë¬¸ìì—´ì„ ì…ë ¥í•©ë‹ˆë‹¤.

KEY_IN ["ctrl+a", "ctrl+c"]  // Ctrl+A â†’ Ctrl+C í‚¤ ì¡°í•©ì„ ìˆœì„œëŒ€ë¡œ ì…ë ¥í•©ë‹ˆë‹¤.

KEY_IN "enter", speed=0.2  // Enter í‚¤ë¥¼ ë¹ ë¥´ê²Œ í•œ ë²ˆ ì…ë ¥í•©ë‹ˆë‹¤.

KEY_IN ["tab", "tab", "enter"], speed=0.3  // Tab â†’ Tab â†’ Enter ìˆœìœ¼ë¡œ ì…ë ¥, 0.3ì´ˆ ê°„ê²©

SET keys = ["ctrl+v", "enter"]
KEY_IN keys  // ë¯¸ë¦¬ ì •ì˜ëœ ë°°ì—´ ë³€ìˆ˜ë¡œ ì…ë ¥í•©ë‹ˆë‹¤.

KEY_IN ["h", "e", "l", "l", "o"], speed=0.1  // í•œ ê¸€ìì”© ì…ë ¥í•˜ë©° ë¹ ë¥¸ ì†ë„ë¡œ íƒ€ì´í•‘í•©ë‹ˆë‹¤.
```

### ğŸ”·MOUSE MOVE

- **ì„¤ëª…**

> `MOUSE_MOVE` ëª…ë ¹ì–´ëŠ” ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ íŠ¹ì • ìœ„ì¹˜ë¡œ ì´ë™ì‹œí‚¤ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.  
> ì´ë™ ëŒ€ìƒì€ ì¢Œí‘œ, ì´ë¯¸ì§€ì˜ ì¤‘ì‹¬, ë˜ëŠ” `Point`, `Region`, `Rectangle` ê°ì²´ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> ì´ë™ ì†ë„ëŠ” `duration` ì˜µì…˜ì„ í†µí•´ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

- **ë¬¸ë²•**

> `MOUSE_MOVE <x: int>, <y: int> [, duration=<float>]`  
> `MOUSE_MOVE x=<int>, y=<int> [, duration=<float>]`  
> `MOUSE_MOVE image_path=<string>, confidence=<float>, search_region=<region>, grayscale=<boolean>`  
> `MOUSE_MOVE <Point|Region|Rectangle>, point_name=<string>, duration=<float>`

---

- **ì˜µì…˜ ì„¤ëª…**

| ì˜µì…˜ëª…          | íƒ€ì…     | ì„¤ëª…                                                           | ê¸°ë³¸ê°’   |
|------------------|----------|----------------------------------------------------------------|----------|
| `x`, `y`          | INTEGER  | ë§ˆìš°ìŠ¤ë¥¼ ì´ë™ì‹œí‚¬ í™”ë©´ ì¢Œí‘œ                                    | í•„ìˆ˜ (ì¢Œí‘œ ë°©ì‹) |
| `duration`        | FLOAT    | ë§ˆìš°ìŠ¤ ì´ë™ì— ê±¸ë¦¬ëŠ” ì‹œê°„ (ì´ˆ)                                | `0.5`    |
| `image_path`      | STRING   | ê¸°ì¤€ ì´ë¯¸ì§€ ê²½ë¡œ                                               | í•„ìˆ˜ (ì´ë¯¸ì§€ ë°©ì‹) |
| `confidence`      | FLOAT    | ì´ë¯¸ì§€ ì¸ì‹ ì‹ ë¢°ë„ (0.0 ~ 1.0)                                  | `0.8`    |
| `search_region`   | REGION   | ì´ë¯¸ì§€ íƒìƒ‰ ë²”ìœ„ ì§€ì •                                          | ì—†ìŒ     |
| `grayscale`       | BOOLEAN  | í‘ë°± ëª¨ë“œë¡œ ì´ë¯¸ì§€ ë¹„êµ                                        | `false`  |
| `point_name`      | STRING   | `Region`, `Rectangle` ê¸°ì¤€ ì´ë™ ì§€ì  (`"center"` ë“±)          | `"center"` |

---

- **ì‚¬ìš© ì˜ˆ**

```kvs
MOUSE_MOVE 200, 300  // (200, 300) ì¢Œí‘œë¡œ ë§ˆìš°ìŠ¤ë¥¼ ì´ë™í•©ë‹ˆë‹¤.

MOUSE_MOVE 100, 150, duration=1.0  // (100, 150)ìœ¼ë¡œ 1ì´ˆì— ê±¸ì³ ì²œì²œíˆ ì´ë™í•©ë‹ˆë‹¤.

MOUSE_MOVE x=500, y=400  // x, yë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì—¬ ì´ë™í•©ë‹ˆë‹¤.

MOUSE_MOVE image_path="submit.png"  // submit.png ì´ë¯¸ì§€ ì¤‘ì‹¬ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.

MOUSE_MOVE image_path="ok.png", confidence=0.9, grayscale=true  // ì‹ ë¢°ë„ 0.9, í‘ë°±ë¹„êµë¡œ OK ë²„íŠ¼ ìœ„ì¹˜ íƒìƒ‰ í›„ ì´ë™

SET p1 = POINT(x=800, y=600)
MOUSE_MOVE p1  // p1 í¬ì¸íŠ¸ë¡œ ë§ˆìš°ìŠ¤ë¥¼ ì´ë™í•©ë‹ˆë‹¤.
```

### ğŸ”·WAIT

- **ì„¤ëª…**

> `WAIT` ëª…ë ¹ì–´ëŠ” ì§€ì •ëœ ì‹œê°„ë§Œí¼ ì‹¤í–‰ì„ ì¼ì‹œ ì •ì§€í•˜ê±°ë‚˜, íŠ¹ì • ì´ë¯¸ì§€ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.  
> `WAIT <ì´ˆ>` ë°©ì‹ì€ ë‹¨ìˆœ ëŒ€ê¸°ìš©ì´ë©°,  
> `WAIT until ...` ë°©ì‹ì€ ì´ë¯¸ì§€ ì¸ì‹ ê¸°ë°˜ì˜ ì¡°ê±´ ëŒ€ê¸°ì…ë‹ˆë‹¤.

---

- **ë¬¸ë²•**

> `WAIT <seconds>`  
> `WAIT until image_path=<string>, timeout=<int>, confidence=<float>, region=<region>, grayscale=<boolean>`

---

- **ì˜µì…˜ ì„¤ëª… (`WAIT until` ì‚¬ìš© ì‹œ)**

| ì˜µì…˜ëª…        | íƒ€ì…     | ì„¤ëª…                                                      | ê¸°ë³¸ê°’     |
|---------------|----------|-----------------------------------------------------------|------------|
| `image_path`  | STRING   | í™”ë©´ì— ë‚˜íƒ€ë‚˜ê¸°ë¥¼ ê¸°ë‹¤ë¦´ ì´ë¯¸ì§€ ê²½ë¡œ                     | **í•„ìˆ˜**   |
| `timeout`     | INTEGER  | ìµœëŒ€ ëŒ€ê¸° ì‹œê°„ (ì´ˆ ë‹¨ìœ„)                                  | `60`       |
| `confidence`  | FLOAT    | ì´ë¯¸ì§€ ì¸ì‹ ì‹ ë¢°ë„ (0.0 ~ 1.0)                             | `0.8`      |
| `region`      | REGION   | ì´ë¯¸ì§€ ê²€ìƒ‰ ë²”ìœ„ (ì „ì²´í™”ë©´ì´ ê¸°ë³¸)                        | `None`     |
| `grayscale`   | BOOLEAN  | í‘ë°± ë¹„êµ ì—¬ë¶€ (ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ ì‚¬ìš© ê°€ëŠ¥)               | `false`    |

---

- **ì‚¬ìš© ì˜ˆ**

```kvs
WAIT 5  // 5ì´ˆê°„ ì‹¤í–‰ì„ ì¼ì‹œ ì •ì§€í•©ë‹ˆë‹¤.

WAIT 0  // ëŒ€ê¸° ì—†ì´ ë°”ë¡œ ë‹¤ìŒ ëª…ë ¹ ì‹¤í–‰

WAIT until image_path="login.png"  // login.pngê°€ ë‚˜íƒ€ë‚  ë•Œê¹Œì§€ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ëŒ€ê¸° (ìµœëŒ€ 60ì´ˆ)

WAIT until image_path="popup.png", timeout=30  // popup.pngê°€ ëœ° ë•Œê¹Œì§€ ìµœëŒ€ 30ì´ˆê°„ ëŒ€ê¸°

WAIT until image_path="save_button.png", confidence=0.9, grayscale=true  
// save_button.pngë¥¼ ì‹ ë¢°ë„ 0.9ë¡œ í‘ë°± ë¹„êµ ë°©ì‹ìœ¼ë¡œ ê²€ìƒ‰í•˜ë©° ëŒ€ê¸°

SET searchRegion = REGION(x=100, y=100, width=500, height=300)
WAIT until image_path="ok.png", region=searchRegion  

```

## **Database ëª…ë ¹ì–´**

- ë°ì´í„°ë² ì´ìŠ¤ëŠ” sqlite, mariadb, postgresqlì„ ì§€ì›í•©ë‹ˆë‹¤.

> DB sub-commmand option, ...

- sub-commands
  - connect : database ì—°ê²°í•©ë‹ˆë‹¤
  - execute : insert,update,delete ë“± sqlìˆ˜í–‰í•©ë‹ˆë‹¤
  - query   : select sqlìˆ˜í–‰ ê²°ê³¼ë¥¼ ë³€ìˆ˜ì— ë„£ìŠµë‹ˆë‹¤
  - close   : databaseì˜ ì—°ê²°ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.
  - begin_transaction : transactionì„ ì‹œì‘í•©ë‹ˆë‹¤
  - commit : commití•˜ê³  transactionì„ ì¢…ë£Œí•©ë‹ˆë‹¤.
  - rollback : rollbackí•˜ê³  transactionì„ ì¢…ë£Œí•©ë‹ˆë‹¤.

- ëª¨ë“  db ëª…ë ¹ì–´ëŠ” name ì˜µì…˜ê³¼ typeì˜µì…˜ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
- ì˜µì…˜ **name**ì€ ì—°ê²°ëœ Databaseì— ëŒ€í•œ aliasì…ë‹ˆë‹¤. ë””í´íŠ¸ëŠ” 'default'ì…ë‹ˆë‹¤.
- ì˜µì…˜ **type**ì€ Databaseì˜ ì¢…ë¥˜ë¥¼ ì˜ë¯¸í•˜ëŠ” ë¬¸ìì—´ì…ë‹ˆë‹¤.
- **type**ì€ 'sqlite', 'mairiadb', 'postgresql' ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ë””í´íŠ¸ëŠ” 'sqlite'ì…ë‹ˆë‹¤.

### ğŸ”¶DB CONNECT
  
- **ë¬¸ë²•**

> DB CONNECT path=<ë¬¸ìì—´>

- **ì‚¬ìš©ì˜ˆ**

```kvs
DB CONNECT path="test1.db"  // sqliteì˜ ê²½ìš°
```

### ğŸ”¶DB QUERY

- selectë¬¸ì„ ìˆ˜í–‰í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ to_varì˜µì…˜ì˜ ê°’ì— í•´ë‹¹í•˜ëŠ” ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤
- ë³€ìˆ˜ëŠ” **í•´ì‰¬ë§µì˜ ë°°ì—´í˜•íƒœ**ì…ë‹ˆë‹¤. ì¦‰ [ { }, ...]ê³¼ ê°™ì€ í˜•íƒœì…ë‹ˆë‹¤.

- **ë¬¸ë²•**

> DB QUERY [name=<ë¬¸ìì—´>, type=ë¬¸ìì—´], sql=<ë¬¸ìì—´>, to_var=<ë³€ìˆ˜ëª…>

- **ì‚¬ìš©ì˜ˆ**

```kvs
DB QUERY sql="select * from tasks order by id desc", to_var="tasks"
```

### ğŸ”¶DB EXECUTE

- update, delete, insertë¬¸ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- to_varì˜µì…˜ì´  ì—†ìŠµë‹ˆë‹¤.
  
- **ë¬¸ë²•**

> DB EXECUTE [name=<ë¬¸ìì—´>, type=ë¬¸ìì—´], sql=<ë¬¸ìì—´>

- **ì‚¬ìš©ì˜ˆ**

```kvs
 DB EXECUTE sql="insert into tasks (title) values ('task1')"
```

### ğŸ”¶DB CLOSE

- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.
  
- **ë¬¸ë²•**

> DB CLOSE [name=<ë¬¸ìì—´>, type=ë¬¸ìì—´]

- **ì‚¬ìš©ì˜ˆ**

```kvs
DB CLOSE
```

- **DB ëª…ë ¹ì–´ ì‚¬ìš© ì˜ˆ**

```kvs
MAIN
    DB CONNECT path="test1.db" 
    DB EXECUTE sql="""
    CREATE TABLE IF NOT EXISTS tasks (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        title TEXT,
        done INTEGER DEFAULT 0
    )
    """    
    DB EXECUTE sql="insert into tasks (title) values ('task1')"
    DB EXECUTE sql="insert into tasks (title) values ('task2')"
    DB EXECUTE sql="insert into tasks (title) values ('task3')"
    DB QUERY sql="select * from tasks order by id desc", to_var="tasks"
    PRINT "ê¸¸ì´:", Length(tasks)
    PRINT tasks[0] 
    DB QUERY sql="select count(*) as count from tasks", to_var="result"
    PRINT  result[0]["count"]
    DB CLOSE name="default"
END_MAIN
```

### ğŸ”¶DB BEGIN_TRANSACTION

- transactionì„ ì‹œì‘í•©ë‹ˆë‹¤.
- **ë¬¸ë²•**

> DB TRANSACTION  [name=<ë¬¸ìì—´>, type=ë¬¸ìì—´]

- **ì‚¬ìš©ì˜ˆ**

```kvs
DB BEGIN_TRANSACTION name="default"
```

### ğŸ”¶DB COMMIT

- transaction commit í•©ë‹ˆë‹¤.
- **ë¬¸ë²•**

> DB COMMIT [name=<ë¬¸ìì—´>, type=ë¬¸ìì—´]

- **ì‚¬ìš©ì˜ˆ**

```kvs
 DB COMMIT 
```

### ğŸ”¶DB ROLLBACK

- transactionì„ rollback í•©ë‹ˆë‹¤
- **ë¬¸ë²•**

> DB ROLLBACK [name=<ë¬¸ìì—´>, type=ë¬¸ìì—´]

- **ì‚¬ìš©ì˜ˆ**

```kvs
DB ROLLBACK
```

### ì „ì²´ì ì¸ ì‚¬ìš©ì˜ˆ

```kvs
MAIN
    DB CONNECT path="test1.db" 
    DB BEGIN_TRANSACTION name="default"
    DB EXECUTE sql="insert into tasks (title) values ('task1')"
    DB EXECUTE sql="insert into tasks1 (title) values ('task2')"
    DB COMMIT name="default"

    ON_EXCEPTION
        PRINT f"ì˜ˆì™¸ ë°œìƒ: {$exception_message} (exit code: {$exit_code})"
        DB ROLLBACK name="default"
        DB CLOSE name="default"
    END_EXCEPTION
END_MAIN
```
